1.绪论

2.访问寄存器和内存

3.汇编语言程序

4.内存寻址方式

5.流程转移与子程序

6.中断及其应用

7.高级汇编语言技术

汇编语言的主体是汇编指令。

汇编指令和机器指令的差别在于指令的表示方法上

汇编指令是机器指令便于记忆的书写格式。

汇编指令是机器指令的助记符。

机器指令:1000100111011000

操作:将寄存器BX的内容送到AX中

汇编指令:MOV AX,BX

寄存器:CPU中可以存储数据的器件,一个CPU中有多个寄存器。

###### 计算机中的存储单元

存储器被划分为若干个存储单元，每个存储单元从0开始顺序编号;

显例如:
一个存储器有128个存储单元编号从0~127,
实际：
内存空间很“大”
8086有20条地址线
寻址空间2^20，为1MB

###### 计算机中的总线

在计算机中专门有连接CPU和其他芯片的导线，通常称为总线。

物理上：一根根导线的集合

逻辑上划分为：
地址总线、数据总线、控制总线

###### 地址总线

CPU是通过地址总线来指定存储单元的。地证总线宽度，决定了可寻址的存储单元大小。N根地址总线(宽度为N)，对应寻址空间2^N。

当CPU需要读写内存时，它会把目标内存单元的地址放到MAR中。

MAR中的地址会通过地址总线线传输到内存，从而告诉内存要访问哪个单元。

###### 数据总线

CPU与内存或其它器件之间的数据传送是通过数据总线来进行的。数据总线的宽度决定了CPU和外界的数据传送速度。

###### 控制总线

CPU通过控制总线对外部器件进行控制。控制总线是一些不同控制线的集合。控制总线宽度决定了CPU对外部器件的控制能力

######  CPU对存储器的读写

CPU要想进行数据的读写，必须和外部器件进行三类信息的交互：
存储单元的地址(地址信息 )
器件的选择，读或写命令(控制信息 )
读或写的数据 (数据信息 )

演示
机器码:101000000000001100000000
16进制:A00300
汇编指令:MOV AL，[3]含义:从3号单元读取数据送入寄存器AL

###### 内存地址空间

什么是内存地址空间：
CPU地址总线宽度为N，寻址空间为2^N B 8086 CPU的地址总线宽度为20，那么可以寻址1MB个内存单元，其内存地址空间为1MB。

RAM：随机存储器，能读、能写，一时性（当断电后，数据全部丢失），存储动态信息。

- 主板上的RAM
- 扩展槽上的RAM(例显卡)

ROM：只读存储器，存储固定信息。

- 系统BIOS（基本输入/输出系统）
- 接口卡上的BIOS

将各类存储器看作个逻辑存储器-统一编址

![image-20241211161520748](C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20241211161520748.png)

所有的物理存储器被看作一个由若干存储单元组成的逻辑存储器；

每个物理存储器在这个逻辑存储器中占有一个地址段，即一段地址空间;

CPU在这段地址空间中读写数据，实际上就是在相对应的物理存储器中读写数据。

实践方案--DOS环境（桌面操作系统）

![image-20241211164127260](C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20241211164127260.png)

#### 寄存器及数据存储

运算器进行信息处理

寄存器进行信息存储

控制器协调各种器件进行工作

内部总线实现CPU内各个器件之间的联系。

寄存器是CPU内部的信息存储单元。

8086 CPU有14个寄存器：
通用寄存器:AX（累加）、BX、CX、DX

变址寄存器:SI、DI

指针寄存器:SP、BP

指令指针寄存器:IP

段寄存器:CS、SS、DS、ES

标志寄存器:PSW

8086CPU所有的寄存器都是16位的可以存放两个字节。

###### 通用寄存器--以AX为例
一个16位寄存器存储一个16位的数据

###### 问题： 8086上一代CPU中的寄存器都是8位的，如何保证程序的兼容性 ?

通用寄存器均可以分为两个独立的8位寄存器使用，
AX可以分为AH和AL （AH高8位，AL低8位）

BX可以分为BH和BL （以下同理）

CX可以分为CH和CL

DX可以分为DH和DL

######  “字”在寄存器中的存储（机器字长是指计算机处理器（CPU）一次能处理的二进制数据的位数）

8086是16位CPU

8086的字长(word size)为16bit

一个字(word)可以存在一个16位寄存器中它 

这个字的高位字节存在这个寄存器的高8位寄存器它

这个字的低位字节存在这个寄存器的低8位寄存器

###### 汇编指令（不区分大小写）

| 汇编指令  | 控制CPU完成的操作                 | 用高级语言的语法描述 |
| --------- | --------------------------------- | -------------------- |
| mov ax,18 | 将18送入AX                        | AX = 18              |
| mov ah,78 | 将78送入AH(AX的高8位区)           | AH = 78              |
| add ax,8  | 将寄存器AX中的数值加上8           | AX=AX+8              |
| mov ax,bx | 将寄存器BX中的数据送入寄存器AX    | AX=BX                |
| add ax,bx | 将AX,BX中的内容相加，结果存在AX中 | AX=AX+BX             |

###### 执行过程

设原AX、BX中的值均为0000H

用两个8位的寄存器表达一个16进制的数。（第一个寄存器表示低8位的数，第二个表示高8位的的数。所以若超出8位的话就溢出了）

| 程序段中的指令 | 指令执行后AX中的数据     | 指令执行后BX中的数据 |
| -------------- | ------------------------ | -------------------- |
| mov ax, 4E20H  | 4E20H                    | 0000H                |
| add ax,1406H   | 6226H                    | 0000H                |
| mov bx, 2000H  | 6226H                    | 2000H                |
| add ax, bx     | 8226H                    | 2000H                |
| mov bx, ax     | 8226H                    | 8226H                |
| add ax, bx     | 044CH（1044CH，1溢出了） | 8226H                |



 



















